plugins {
    id 'groovy'
    id 'java-gradle-plugin'
}

group 'de.dfki.mary'
version '0.1-SNAPSHOT'
description 'Crossvalidation for voicebuilding with MaryTTS'

ext.pluginId = 'de.dfki.mary.voicebuilding.marytts-crossvalidation'

gradlePlugin {
    plugins {
        maryttsCVPlugin {
            id = pluginId
            implementationClass = 'de.dfki.mary.voicebuilding.MaryttsCrossvalidationPlugin'
        }
    }
}

repositories {
    jcenter()

}

dependencies {
    compile localGroovy()
    compile group: 'de.dfki.mary', name: 'marytts-runtime', version: '5.2', {
        exclude module: 'groovy-all'
    }
    //compile 'de.dfki.mary.voicebuilding-base:de.dfki.mary.voicebuilding-base.gradle.plugin:5.2.0'
    runtime 'de.dfki.mary:marytts-voicebuilding:0.1'
    runtime 'de.dfki.mary:marytts-lang-en:5.2'
    testCompile 'org.testng:testng:6.9.6'
}

configurations.all {
    resolutionStrategy {
        dependencySubstitution {
            force 'org.codehaus.groovy:groovy-all:2.4.10'
        }
    }
}

test {
    useTestNG()
    testLogging {
        exceptionFormat = 'full'
    }
}
